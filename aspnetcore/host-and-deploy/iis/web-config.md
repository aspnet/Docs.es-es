---
title: Archivo web.config
author: rick-anderson
description: Descubra lo que se encuentra dentro del archivo web.config y cómo configurar diferentes opciones del módulo de ASP.NET Core.
monikerRange: '>= aspnetcore-5.0'
ms.author: riande
ms.custom: mvc
ms.date: 02/07/2020
no-loc:
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: host-and-deploy/iis/web-config
ms.openlocfilehash: 4d7305f7184745b66c5de6c86b907d419183cb3f
ms.sourcegitcommit: d60bfd52bfb559e805abd654b87a2a0c7eb69cf8
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 10/06/2020
ms.locfileid: "91755214"
---
# <a name="webconfig-file"></a><span data-ttu-id="bc54b-103">Archivo `web.config`</span><span class="sxs-lookup"><span data-stu-id="bc54b-103">`web.config` file</span></span>

<span data-ttu-id="bc54b-104">`web.config` es un archivo que IIS y el [módulo de ASP.NET Core](xref:host-and-deploy/aspnet-core-module) leen para configurar una aplicación hospedada en IIS.</span><span class="sxs-lookup"><span data-stu-id="bc54b-104">The `web.config` is a file that is read by IIS and the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) to configure an app hosted with IIS.</span></span>

## <a name="webconfig-file-location"></a><span data-ttu-id="bc54b-105">Ubicación del archivo `web.config`</span><span class="sxs-lookup"><span data-stu-id="bc54b-105">`web.config` file location</span></span>

<span data-ttu-id="bc54b-106">Para configurar el [módulo ASP.NET](xref:host-and-deploy/aspnet-core-module) correctamente, el archivo `web.config` debe estar presente en la ruta [raíz de contenido](xref:fundamentals/index#content-root) (normalmente la ruta de acceso base de la aplicación) de la aplicación implementada.</span><span class="sxs-lookup"><span data-stu-id="bc54b-106">In order to set up the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) correctly, the `web.config` file must be present at the [content root](xref:fundamentals/index#content-root) path (typically the app base path) of the deployed app.</span></span> <span data-ttu-id="bc54b-107">Se trata de la misma ubicación que la ruta de acceso física del sitio web proporcionada a IIS.</span><span class="sxs-lookup"><span data-stu-id="bc54b-107">This is the same location as the website physical path provided to IIS.</span></span> <span data-ttu-id="bc54b-108">El archivo `web.config` debe estar en la raíz de la aplicación para habilitar la publicación de varias aplicaciones mediante Web Deploy.</span><span class="sxs-lookup"><span data-stu-id="bc54b-108">The `web.config` file is required at the root of the app to enable the publishing of multiple apps using Web Deploy.</span></span>

<span data-ttu-id="bc54b-109">Los archivos confidenciales están en la ruta de acceso física de la aplicación, como `{ASSEMBLY}.runtimeconfig.json`, `{ASSEMBLY}.xml` (comentarios de documentación XML), y `{ASSEMBLY}.deps.json`, donde el marcador de posición `{ASSEMBLY}` es el nombre del ensamblado.</span><span class="sxs-lookup"><span data-stu-id="bc54b-109">Sensitive files exist on the app's physical path, such as `{ASSEMBLY}.runtimeconfig.json`, `{ASSEMBLY}.xml` (XML Documentation comments), and `{ASSEMBLY}.deps.json`, where the placeholder `{ASSEMBLY}` is the assembly name.</span></span> <span data-ttu-id="bc54b-110">Si el archivo `web.config` está presente y el sitio se inicia normalmente, IIS no facilita estos archivos confidenciales, en el caso de que se soliciten.</span><span class="sxs-lookup"><span data-stu-id="bc54b-110">When the `web.config` file is present and the site starts normally, IIS doesn't serve these sensitive files if they're requested.</span></span> <span data-ttu-id="bc54b-111">Si el archivo `web.config` no está presente, se le asignó un nombre incorrecto o no se puede configurar el sitio para un inicio normal, IIS puede servir archivos confidenciales públicamente.</span><span class="sxs-lookup"><span data-stu-id="bc54b-111">If the `web.config` file is missing, incorrectly named, or unable to configure the site for normal startup, IIS may serve sensitive files publicly.</span></span>

<span data-ttu-id="bc54b-112">**El archivo `web.config` debe estar presente en la implementación en todo momento, se le debe asignar un nombre correcto y debe ser capaz de configurar el sitio para el inicio normal. Nunca quite el archivo `web.config` de una implementación de producción.**</span><span class="sxs-lookup"><span data-stu-id="bc54b-112">**The `web.config` file must be present in the deployment at all times, correctly named, and able to configure the site for normal start up. Never remove the `web.config` file from a production deployment.**</span></span>

<span data-ttu-id="bc54b-113">Si el proyecto no incluye un archivo `web.config`, el archivo se crea con los elementos `processPath` y `arguments` correctos para configurar el módulo ASP.NET Core y se mueve a la [salida publicada](xref:host-and-deploy/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="bc54b-113">If a `web.config` file isn't present in the project, the file is created with the correct `processPath` and `arguments` to configure the ASP.NET Core Module and moved to [published output](xref:host-and-deploy/directory-structure).</span></span>

<span data-ttu-id="bc54b-114">Si el proyecto incluye un archivo `web.config`, el archivo se transforma con los elementos `processPath` y `arguments` correctos para configurar el módulo ASP.NET Core y se mueve a la salida publicada.</span><span class="sxs-lookup"><span data-stu-id="bc54b-114">If a `web.config` file is present in the project, the file is transformed with the correct `processPath` and `arguments` to configure the ASP.NET Core Module and moved to published output.</span></span> <span data-ttu-id="bc54b-115">La transformación no modifica los valores de configuración de IIS del archivo.</span><span class="sxs-lookup"><span data-stu-id="bc54b-115">The transformation doesn't modify IIS configuration settings in the file.</span></span>

<span data-ttu-id="bc54b-116">El archivo `web.config` puede proporcionar valores de configuración de IIS adicionales que controlan los módulos activos de IIS.</span><span class="sxs-lookup"><span data-stu-id="bc54b-116">The `web.config` file may provide additional IIS configuration settings that control active IIS modules.</span></span> <span data-ttu-id="bc54b-117">Para información sobre los módulos de IIS que son capaces de procesar las solicitudes con aplicaciones ASP.NET Core, vea el tema [Módulos IIS](xref:host-and-deploy/iis/modules).</span><span class="sxs-lookup"><span data-stu-id="bc54b-117">For information on IIS modules that are capable of processing requests with ASP.NET Core apps, see the [IIS modules](xref:host-and-deploy/iis/modules) topic.</span></span>

<span data-ttu-id="bc54b-118">La creación, transformación y publicación del archivo `web.config` se controla por medio de un destino de MSBuild (`_TransformWebConfig`) cuando el proyecto se publica.</span><span class="sxs-lookup"><span data-stu-id="bc54b-118">Creating, transforming, and publishing the `web.config` file is handled by an MSBuild target (`_TransformWebConfig`) when the project is published.</span></span> <span data-ttu-id="bc54b-119">Este destino está incluido entre los destinos del SDK web (`Microsoft.NET.Sdk.Web`).</span><span class="sxs-lookup"><span data-stu-id="bc54b-119">This target is present in the Web SDK targets (`Microsoft.NET.Sdk.Web`).</span></span> <span data-ttu-id="bc54b-120">El SDK se establece al inicio del archivo del proyecto:</span><span class="sxs-lookup"><span data-stu-id="bc54b-120">The SDK is set at the top of the project file:</span></span>

```xml
<Project Sdk="Microsoft.NET.Sdk.Web">
```

<span data-ttu-id="bc54b-121">Para evitar que el SDK web transforme el archivo `web.config`, use la propiedad `<IsTransformWebConfigDisabled>` en el archivo del proyecto:</span><span class="sxs-lookup"><span data-stu-id="bc54b-121">To prevent the Web SDK from transforming the `web.config` file, use the `<IsTransformWebConfigDisabled>` property in the project file:</span></span>

```xml
<PropertyGroup>
  <IsTransformWebConfigDisabled>true</IsTransformWebConfigDisabled>
</PropertyGroup>
```

<span data-ttu-id="bc54b-122">Al deshabilitar el SDK web para la transformación del archivo, el desarrollador debe establecer el elemento `processPath` y los `arguments` manualmente.</span><span class="sxs-lookup"><span data-stu-id="bc54b-122">When disabling the Web SDK from transforming the file, the `processPath` and `arguments` should be manually set by the developer.</span></span> <span data-ttu-id="bc54b-123">Para más información, consulte <xref:host-and-deploy/aspnet-core-module>.</span><span class="sxs-lookup"><span data-stu-id="bc54b-123">For more information, see <xref:host-and-deploy/aspnet-core-module>.</span></span>

## <a name="configuration-of-aspnet-core-module-with-webconfig"></a><span data-ttu-id="bc54b-124">Configuración del módulo de ASP.NET Core con `web.config`</span><span class="sxs-lookup"><span data-stu-id="bc54b-124">Configuration of ASP.NET Core Module with `web.config`</span></span>

<span data-ttu-id="bc54b-125">El módulo ASP.NET Core se configura con la sección `aspNetCore` del nodo `system.webServer` del archivo `web.config` del sitio.</span><span class="sxs-lookup"><span data-stu-id="bc54b-125">The ASP.NET Core Module is configured with the `aspNetCore` section of the `system.webServer` node in the site's `web.config` file.</span></span>

<span data-ttu-id="bc54b-126">El siguiente archivo `web.config` se publica para una [implementación dependiente del marco](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) y configura el módulo ASP.NET Core para controlar las solicitudes de sitios:</span><span class="sxs-lookup"><span data-stu-id="bc54b-126">The following `web.config` file is published for a [framework-dependent deployment](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) and configures the ASP.NET Core Module to handle site requests:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <location path="." inheritInChildApplications="false">
    <system.webServer>
      <handlers>
        <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
      </handlers>
      <aspNetCore processPath="dotnet"
                  arguments=".\MyApp.dll"
                  stdoutLogEnabled="false"
                  stdoutLogFile=".\logs\stdout"
                  hostingModel="inprocess" />
    </system.webServer>
  </location>
</configuration>
```

<span data-ttu-id="bc54b-127">El siguiente archivo `web.config` se publica para una [implementación independiente](/dotnet/articles/core/deploying/#self-contained-deployments-scd):</span><span class="sxs-lookup"><span data-stu-id="bc54b-127">The following `web.config` is published for a [self-contained deployment](/dotnet/articles/core/deploying/#self-contained-deployments-scd):</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <location path="." inheritInChildApplications="false">
    <system.webServer>
      <handlers>
        <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
      </handlers>
      <aspNetCore processPath=".\MyApp.exe"
                  stdoutLogEnabled="false"
                  stdoutLogFile=".\logs\stdout"
                  hostingModel="inprocess" />
    </system.webServer>
  </location>
</configuration>
```

<span data-ttu-id="bc54b-128">La propiedad <xref:System.Configuration.SectionInformation.InheritInChildApplications%2A> está establecida en `false` para indicar que las aplicaciones que residen en un subdirectorio de la aplicación no heredan la configuración especificada en el elemento [`<location>`](/iis/manage/managing-your-configuration-settings/understanding-iis-configuration-delegation#the-concept-of-location).</span><span class="sxs-lookup"><span data-stu-id="bc54b-128">The <xref:System.Configuration.SectionInformation.InheritInChildApplications%2A> property is set to `false` to indicate that the settings specified within the [`<location>`](/iis/manage/managing-your-configuration-settings/understanding-iis-configuration-delegation#the-concept-of-location) element aren't inherited by apps that reside in a subdirectory of the app.</span></span>

<span data-ttu-id="bc54b-129">Cuando se implementa una aplicación en [Azure App Service](https://azure.microsoft.com/services/app-service/), la ruta de acceso de `stdoutLogFile` se establece en `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-129">When an app is deployed to [Azure App Service](https://azure.microsoft.com/services/app-service/), the `stdoutLogFile` path is set to `\\?\%home%\LogFiles\stdout`.</span></span> <span data-ttu-id="bc54b-130">La ruta de acceso guarda los registros de stdout en la carpeta `LogFiles`, que es una ubicación que el servicio crea automáticamente.</span><span class="sxs-lookup"><span data-stu-id="bc54b-130">The path saves stdout logs to the `LogFiles` folder, which is a location automatically created by the service.</span></span>

<span data-ttu-id="bc54b-131">Para obtener información sobre la configuración de aplicaciones secundarias de IIS, consulte <xref:host-and-deploy/iis/index#sub-applications>.</span><span class="sxs-lookup"><span data-stu-id="bc54b-131">For information on IIS sub-application configuration, see <xref:host-and-deploy/iis/index#sub-applications>.</span></span>

### <a name="attributes-of-the-aspnetcore-element"></a><span data-ttu-id="bc54b-132">Atributos del elemento `aspNetCore`</span><span class="sxs-lookup"><span data-stu-id="bc54b-132">Attributes of the `aspNetCore` element</span></span>

| <span data-ttu-id="bc54b-133">Atributo</span><span class="sxs-lookup"><span data-stu-id="bc54b-133">Attribute</span></span> | <span data-ttu-id="bc54b-134">Descripción</span><span class="sxs-lookup"><span data-stu-id="bc54b-134">Description</span></span> | <span data-ttu-id="bc54b-135">Default</span><span class="sxs-lookup"><span data-stu-id="bc54b-135">Default</span></span> |
| --------- | ----------- | :-----: |
| `arguments` | <p><span data-ttu-id="bc54b-136">Atributo de cadena opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-136">Optional string attribute.</span></span></p><p><span data-ttu-id="bc54b-137">Argumentos para el archivo ejecutable especificado en `processPath`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-137">Arguments to the executable specified in `processPath`.</span></span></p> | |
| `disableStartUpErrorPage` | <p><span data-ttu-id="bc54b-138">Atributo Boolean opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-138">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="bc54b-139">Si es true, la página **502.5 - Error en el proceso** se suprime, y tiene prioridad la página de código de estado 502 configurada en `web.config`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-139">If true, the **502.5 - Process Failure** page is suppressed, and the 502 status code page configured in the `web.config` takes precedence.</span></span></p> | `false` |
| `forwardWindowsAuthToken` | <p><span data-ttu-id="bc54b-140">Atributo Boolean opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-140">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="bc54b-141">Si es "true", el token se reenvía al proceso secundario que escucha en `%ASPNETCORE_PORT%` como un encabezado "MS-ASPNETCORE-WINAUTHTOKEN" por solicitud.</span><span class="sxs-lookup"><span data-stu-id="bc54b-141">If true, the token is forwarded to the child process listening on `%ASPNETCORE_PORT%` as a header 'MS-ASPNETCORE-WINAUTHTOKEN' per request.</span></span> <span data-ttu-id="bc54b-142">Es responsabilidad de dicho proceso llamar a CloseHandle en este token por solicitud.</span><span class="sxs-lookup"><span data-stu-id="bc54b-142">It's the responsibility of that process to call CloseHandle on this token per request.</span></span></p> | `true` |
| `hostingModel` | <p><span data-ttu-id="bc54b-143">Atributo de cadena opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-143">Optional string attribute.</span></span></p><p><span data-ttu-id="bc54b-144">Especifica el modelo de hospedaje como en proceso (`InProcess`/`inprocess`) o fuera de proceso (`OutOfProcess`/`outofprocess`).</span><span class="sxs-lookup"><span data-stu-id="bc54b-144">Specifies the hosting model as in-process (`InProcess`/`inprocess`) or out-of-process (`OutOfProcess`/`outofprocess`).</span></span></p> | `InProcess`<br>`inprocess` |
| `processesPerApplication` | <p><span data-ttu-id="bc54b-145">Atributo integer opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-145">Optional integer attribute.</span></span></p><p><span data-ttu-id="bc54b-146">Especifica el número de instancias del proceso especificado en el valor `processPath` que pueden rotarse por aplicación.</span><span class="sxs-lookup"><span data-stu-id="bc54b-146">Specifies the number of instances of the process specified in the `processPath` setting that can be spun up per app.</span></span></p><p><span data-ttu-id="bc54b-147">&dagger;En el hospedaje en proceso, el valor está limitado a `1`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-147">&dagger;For in-process hosting, the value is limited to `1`.</span></span></p><p><span data-ttu-id="bc54b-148">No se recomienda establecer `processesPerApplication`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-148">Setting `processesPerApplication` is discouraged.</span></span> <span data-ttu-id="bc54b-149">Este atributo se quitará en futuras versiones.</span><span class="sxs-lookup"><span data-stu-id="bc54b-149">This attribute will be removed in a future release.</span></span></p> | <span data-ttu-id="bc54b-150">Valor predeterminado: `1`</span><span class="sxs-lookup"><span data-stu-id="bc54b-150">Default: `1`</span></span><br><span data-ttu-id="bc54b-151">Mínimo: `1`</span><span class="sxs-lookup"><span data-stu-id="bc54b-151">Min: `1`</span></span><br><span data-ttu-id="bc54b-152">Máximo: `100`&dagger;</span><span class="sxs-lookup"><span data-stu-id="bc54b-152">Max: `100`&dagger;</span></span> |
| `processPath` | <p><span data-ttu-id="bc54b-153">Atributo de cadena necesario.</span><span class="sxs-lookup"><span data-stu-id="bc54b-153">Required string attribute.</span></span></p><p><span data-ttu-id="bc54b-154">Ruta de acceso al archivo ejecutable que inicia un proceso que escucha las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="bc54b-154">Path to the executable that launches a process listening for HTTP requests.</span></span> <span data-ttu-id="bc54b-155">No se admiten rutas de acceso relativas.</span><span class="sxs-lookup"><span data-stu-id="bc54b-155">Relative paths are supported.</span></span> <span data-ttu-id="bc54b-156">Si la ruta de acceso comienza con `.`, se considera que es relativa a la raíz del sitio.</span><span class="sxs-lookup"><span data-stu-id="bc54b-156">If the path begins with `.`, the path is considered to be relative to the site root.</span></span></p> | |
| `rapidFailsPerMinute` | <p><span data-ttu-id="bc54b-157">Atributo integer opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-157">Optional integer attribute.</span></span></p><p><span data-ttu-id="bc54b-158">Especifica el número de veces que el proceso indicado en `processPath` puede bloquearse por minuto.</span><span class="sxs-lookup"><span data-stu-id="bc54b-158">Specifies the number of times the process specified in `processPath` is allowed to crash per minute.</span></span> <span data-ttu-id="bc54b-159">Si se supera este límite, el módulo deja de iniciar el proceso durante lo que resta del minuto.</span><span class="sxs-lookup"><span data-stu-id="bc54b-159">If this limit is exceeded, the module stops launching the process for the remainder of the minute.</span></span></p><p><span data-ttu-id="bc54b-160">No admitido con el hospedaje en proceso.</span><span class="sxs-lookup"><span data-stu-id="bc54b-160">Not supported with in-process hosting.</span></span></p> | <span data-ttu-id="bc54b-161">Valor predeterminado: `10`</span><span class="sxs-lookup"><span data-stu-id="bc54b-161">Default: `10`</span></span><br><span data-ttu-id="bc54b-162">Mínimo: `0`</span><span class="sxs-lookup"><span data-stu-id="bc54b-162">Min: `0`</span></span><br><span data-ttu-id="bc54b-163">Máximo: `100`</span><span class="sxs-lookup"><span data-stu-id="bc54b-163">Max: `100`</span></span> |
| `requestTimeout` | <p><span data-ttu-id="bc54b-164">Atributo timespan opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-164">Optional timespan attribute.</span></span></p><p><span data-ttu-id="bc54b-165">Especifica el tiempo que el módulo ASP.NET Core espera una respuesta del proceso que escucha en % ASPNETCORE_PORT %.</span><span class="sxs-lookup"><span data-stu-id="bc54b-165">Specifies the duration for which the ASP.NET Core Module waits for a response from the process listening on %ASPNETCORE_PORT%.</span></span></p><p><span data-ttu-id="bc54b-166">En las versiones del módulo ASP.NET Core que se envían con la versión de ASP.NET Core 2.1 o posterior, el valor `requestTimeout` se especifica en horas, minutos y segundos.</span><span class="sxs-lookup"><span data-stu-id="bc54b-166">In versions of the ASP.NET Core Module that shipped with the release of ASP.NET Core 2.1 or later, the `requestTimeout` is specified in hours, minutes, and seconds.</span></span></p><p><span data-ttu-id="bc54b-167">No se aplica al hospedaje en proceso.</span><span class="sxs-lookup"><span data-stu-id="bc54b-167">Doesn't apply to in-process hosting.</span></span> <span data-ttu-id="bc54b-168">En el hospedaje en proceso, el módulo espera a que la aplicación procese la solicitud.</span><span class="sxs-lookup"><span data-stu-id="bc54b-168">For in-process hosting, the module waits for the app to process the request.</span></span></p><p><span data-ttu-id="bc54b-169">Los valores válidos para los segmentos de minutos y segundos de la cadena se encuentran en el rango 0-59.</span><span class="sxs-lookup"><span data-stu-id="bc54b-169">Valid values for minutes and seconds segments of the string are in the range 0-59.</span></span> <span data-ttu-id="bc54b-170">El uso de `60` en el valor de minutos o segundos da como resultado el error *500: Error interno del servidor*.</span><span class="sxs-lookup"><span data-stu-id="bc54b-170">Use of `60` in the value for minutes or seconds results in a *500 - Internal Server Error*.</span></span></p> | <span data-ttu-id="bc54b-171">Valor predeterminado: `00:02:00`</span><span class="sxs-lookup"><span data-stu-id="bc54b-171">Default: `00:02:00`</span></span><br><span data-ttu-id="bc54b-172">Mínimo: `00:00:00`</span><span class="sxs-lookup"><span data-stu-id="bc54b-172">Min: `00:00:00`</span></span><br><span data-ttu-id="bc54b-173">Máximo: `360:00:00`</span><span class="sxs-lookup"><span data-stu-id="bc54b-173">Max: `360:00:00`</span></span> |
| `shutdownTimeLimit` | <p><span data-ttu-id="bc54b-174">Atributo integer opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-174">Optional integer attribute.</span></span></p><p><span data-ttu-id="bc54b-175">Tiempo en segundos que el módulo espera a que se cierre correctamente el archivo ejecutable cuando se detecta el archivo `app_offline.htm`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-175">Duration in seconds that the module waits for the executable to gracefully shutdown when the `app_offline.htm` file is detected.</span></span></p> | <span data-ttu-id="bc54b-176">Valor predeterminado: `10`</span><span class="sxs-lookup"><span data-stu-id="bc54b-176">Default: `10`</span></span><br><span data-ttu-id="bc54b-177">Mínimo: `0`</span><span class="sxs-lookup"><span data-stu-id="bc54b-177">Min: `0`</span></span><br><span data-ttu-id="bc54b-178">Máximo: `600`</span><span class="sxs-lookup"><span data-stu-id="bc54b-178">Max: `600`</span></span> |
| `startupTimeLimit` | <p><span data-ttu-id="bc54b-179">Atributo integer opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-179">Optional integer attribute.</span></span></p><p><span data-ttu-id="bc54b-180">Tiempo en segundos que espera el módulo a que el archivo ejecutable inicie u proceso que escucha en el puerto.</span><span class="sxs-lookup"><span data-stu-id="bc54b-180">Duration in seconds that the module waits for the executable to start a process listening on the port.</span></span> <span data-ttu-id="bc54b-181">Si se supera este límite de tiempo, el módulo termina el proceso.</span><span class="sxs-lookup"><span data-stu-id="bc54b-181">If this time limit is exceeded, the module kills the process.</span></span></p><p><span data-ttu-id="bc54b-182">Al hospedar *en proceso*: El proceso **no** se reinicia y **no** usa la configuración `rapidFailsPerMinute`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-182">When hosting *in-process*: The process is **not** restarted and does **not** use the `rapidFailsPerMinute` setting.</span></span></p><p><span data-ttu-id="bc54b-183">Al hospedar *fuera del proceso*: El módulo intenta reiniciar el proceso cuando se recibe una nueva solicitud y lo sigue intentando en las sucesivas solicitudes entrantes a no ser que la aplicación no pueda iniciar `rapidFailsPerMinute` un número de veces en el último minuto acumulado.</span><span class="sxs-lookup"><span data-stu-id="bc54b-183">When hosting *out-of-process*: The module attempts to relaunch the process when it receives a new request and continues to attempt to restart the process on subsequent incoming requests unless the app fails to start `rapidFailsPerMinute` number of times in the last rolling minute.</span></span></p><p><span data-ttu-id="bc54b-184">Un valor de 0 (cero) **no** se considera un tiempo de expiración infinito.</span><span class="sxs-lookup"><span data-stu-id="bc54b-184">A value of 0 (zero) is **not** considered an infinite timeout.</span></span></p> | <span data-ttu-id="bc54b-185">Valor predeterminado: `120`</span><span class="sxs-lookup"><span data-stu-id="bc54b-185">Default: `120`</span></span><br><span data-ttu-id="bc54b-186">Mínimo: `0`</span><span class="sxs-lookup"><span data-stu-id="bc54b-186">Min: `0`</span></span><br><span data-ttu-id="bc54b-187">Máximo: `3600`</span><span class="sxs-lookup"><span data-stu-id="bc54b-187">Max: `3600`</span></span> |
| `stdoutLogEnabled` | <p><span data-ttu-id="bc54b-188">Atributo Boolean opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-188">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="bc54b-189">Si es true, `stdout` y `stderr` en el proceso especificado en `processPath` se redirigen al archivo especificado en `stdoutLogFile`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-189">If true, `stdout` and `stderr` for the process specified in `processPath` are redirected to the file specified in `stdoutLogFile`.</span></span></p> | `false` |
| `stdoutLogFile` | <p><span data-ttu-id="bc54b-190">Atributo de cadena opcional.</span><span class="sxs-lookup"><span data-stu-id="bc54b-190">Optional string attribute.</span></span></p><p><span data-ttu-id="bc54b-191">Especifica la ruta de acceso relativa o absoluta para la que se registran `stdout` y `stderr` desde el proceso especificado en `processPath`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-191">Specifies the relative or absolute file path for which `stdout` and `stderr` from the process specified in `processPath` are logged.</span></span> <span data-ttu-id="bc54b-192">Las rutas de acceso relativas son relativas a la raíz del sitio.</span><span class="sxs-lookup"><span data-stu-id="bc54b-192">Relative paths are relative to the root of the site.</span></span> <span data-ttu-id="bc54b-193">Cualquier ruta de acceso que se inicia con `.` es relativa a la raíz del sitio y todas las demás rutas de acceso se tratan como absolutas.</span><span class="sxs-lookup"><span data-stu-id="bc54b-193">Any path starting with `.` are relative to the site root and all other paths are treated as absolute paths.</span></span> <span data-ttu-id="bc54b-194">Al crearse el archivo de registro, el módulo crea las carpetas que se proporcionan en la ruta de acceso.</span><span class="sxs-lookup"><span data-stu-id="bc54b-194">Any folders provided in the path are created by the module when the log file is created.</span></span> <span data-ttu-id="bc54b-195">Mediante delimitadores se agrega una marca de tiempo, un identificador de proceso y una extensión de archivo ( `.log`) al último segmento de la ruta de acceso `stdoutLogFile`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-195">Using underscore delimiters, a timestamp, process ID, and file extension (`.log`) are added to the last segment of the `stdoutLogFile` path.</span></span> <span data-ttu-id="bc54b-196">Si `.\logs\stdout` se proporciona como valor, se guarda un registro de ejemplo de stdout como `stdout_20180205194132_1934.log` en la carpeta `logs`, cuando se guarda el 5/2/2018 a las 19:41:32 con un identificador de proceso de 1934.</span><span class="sxs-lookup"><span data-stu-id="bc54b-196">If `.\logs\stdout` is supplied as a value, an example stdout log is saved as `stdout_20180205194132_1934.log` in the `logs` folder when saved on 2/5/2018 at 19:41:32 with a process ID of 1934.</span></span></p> | `aspnetcore-stdout` |

### <a name="set-environment-variables"></a><span data-ttu-id="bc54b-197">Establecimiento de las variables de entorno</span><span class="sxs-lookup"><span data-stu-id="bc54b-197">Set environment variables</span></span>

<span data-ttu-id="bc54b-198">Se pueden especificar variables de entorno para el proceso en el atributo `processPath`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-198">Environment variables can be specified for the process in the `processPath` attribute.</span></span> <span data-ttu-id="bc54b-199">Especifique una variable de entorno con el elemento secundario `<environmentVariable>` de un elemento de la colección `<environmentVariables>`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-199">Specify an environment variable with the `<environmentVariable>` child element of an `<environmentVariables>` collection element.</span></span> <span data-ttu-id="bc54b-200">Las variables de entorno establecidas en esta sección tienen prioridad sobre las variables del entorno del sistema.</span><span class="sxs-lookup"><span data-stu-id="bc54b-200">Environment variables set in this section take precedence over system environment variables.</span></span>

<span data-ttu-id="bc54b-201">En el ejemplo siguiente se establecen dos variables de entorno en `web.config`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-201">The following example sets two environment variables in `web.config`.</span></span> <span data-ttu-id="bc54b-202">`ASPNETCORE_ENVIRONMENT` configura el entorno de la aplicación como `Development`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-202">`ASPNETCORE_ENVIRONMENT` configures the app's environment to `Development`.</span></span> <span data-ttu-id="bc54b-203">Un desarrollador puede establecer temporalmente este valor en el archivo `web.config` con el fin de forzar a que se cargue la [página de excepciones del desarrollador](xref:fundamentals/error-handling) al depurar una excepción de aplicación.</span><span class="sxs-lookup"><span data-stu-id="bc54b-203">A developer may temporarily set this value in the `web.config` file in order to force the [Developer Exception Page](xref:fundamentals/error-handling) to load when debugging an app exception.</span></span> <span data-ttu-id="bc54b-204">`CONFIG_DIR` es un ejemplo de una variable de entorno definida por el usuario, donde el desarrollador ha escrito código que lee el valor al inicio para formar una ruta de acceso destinada a la carga del archivo de configuración de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="bc54b-204">`CONFIG_DIR` is an example of a user-defined environment variable, where the developer has written code that reads the value on startup to form a path for loading the app's configuration file.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile=".\logs\stdout"
      hostingModel="inprocess">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
    <environmentVariable name="CONFIG_DIR" value="f:\application_config" />
  </environmentVariables>
</aspNetCore>
```

> [!NOTE]
> <span data-ttu-id="bc54b-205">Una alternativa a establecer directamente el entorno en `web.config` consiste en incluir la propiedad `<EnvironmentName>` en el [perfil de publicación (`.pubxml`)](xref:host-and-deploy/visual-studio-publish-profiles) o el archivo de proyecto.</span><span class="sxs-lookup"><span data-stu-id="bc54b-205">An alternative to setting the environment directly in `web.config` is to include the `<EnvironmentName>` property in the [publish profile (`.pubxml`)](xref:host-and-deploy/visual-studio-publish-profiles) or project file.</span></span> <span data-ttu-id="bc54b-206">Este método establece el entorno en `web.config` cuando se publica el proyecto:</span><span class="sxs-lookup"><span data-stu-id="bc54b-206">This approach sets the environment in `web.config` when the project is published:</span></span>
>
> ```xml
> <PropertyGroup>
>   <EnvironmentName>Development</EnvironmentName>
> </PropertyGroup>
> ```

> [!WARNING]
> <span data-ttu-id="bc54b-207">Establezca solo la variable de entorno `ASPNETCORE_ENVIRONMENT` en `Development` en servidores de ensayo y pruebas a los que no puedan acceder redes que no son de confianza, como Internet.</span><span class="sxs-lookup"><span data-stu-id="bc54b-207">Only set the `ASPNETCORE_ENVIRONMENT` environment variable to `Development` on staging and testing servers that aren't accessible to untrusted networks, such as the Internet.</span></span>

## <a name="configuration-of-iis-with-webconfig"></a><span data-ttu-id="bc54b-208">Configuración de IIS con `web.config`</span><span class="sxs-lookup"><span data-stu-id="bc54b-208">Configuration of IIS with `web.config`</span></span>

<span data-ttu-id="bc54b-209">En escenarios de IIS que son funcionales para aplicaciones ASP.NET Core con el módulo ASP.NET Core, la configuración de IIS está influenciada por la sección `<system.webServer>` de `web.config`.</span><span class="sxs-lookup"><span data-stu-id="bc54b-209">IIS configuration is influenced by the `<system.webServer>` section of `web.config` for IIS scenarios that are functional for ASP.NET Core apps with the ASP.NET Core Module.</span></span> <span data-ttu-id="bc54b-210">Por ejemplo, la configuración de IIS es funcional para la compresión dinámica.</span><span class="sxs-lookup"><span data-stu-id="bc54b-210">For example, IIS configuration is functional for dynamic compression.</span></span> <span data-ttu-id="bc54b-211">Si IIS está configurado en el nivel de servidor para usar compresión dinámica, el elemento `<urlCompression>` del archivo `web.config` de la aplicación puede deshabilitarlo para una aplicación ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="bc54b-211">If IIS is configured at the server level to use dynamic compression, the `<urlCompression>` element in the app's `web.config` file can disable it for an ASP.NET Core app.</span></span>

<span data-ttu-id="bc54b-212">Para obtener más información, vea los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="bc54b-212">For more information, see the following topics:</span></span>

* [<span data-ttu-id="bc54b-213">Referencia de configuración para `<system.webServer>`</span><span class="sxs-lookup"><span data-stu-id="bc54b-213">Configuration reference for `<system.webServer>`</span></span>](/iis/configuration/system.webServer/)
* <xref:host-and-deploy/aspnet-core-module>
* <xref:host-and-deploy/iis/modules>

<span data-ttu-id="bc54b-214">Para establecer variables de entorno para aplicaciones individuales que se ejecutan en grupos de aplicaciones aislados (compatible con IIS 10.0 o posterior), vea la sección *Comando `AppCmd.exe`* del tema [Variables de entorno `<environmentVariables>`](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) de la documentación de referencia de IIS.</span><span class="sxs-lookup"><span data-stu-id="bc54b-214">To set environment variables for individual apps running in isolated app pools (supported for IIS 10.0 or later), see the *`AppCmd.exe` command* section of the [Environment Variables `<environmentVariables>`](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

## <a name="configuration-sections-of-webconfig"></a><span data-ttu-id="bc54b-215">Secciones de configuración de `web.config`</span><span class="sxs-lookup"><span data-stu-id="bc54b-215">Configuration sections of `web.config`</span></span>

<span data-ttu-id="bc54b-216">Las aplicaciones ASP.NET Core no usan las secciones de configuración de aplicaciones ASP.NET 4.x en `web.config` para la configuración:</span><span class="sxs-lookup"><span data-stu-id="bc54b-216">Configuration sections of ASP.NET 4.x apps in `web.config` aren't used by ASP.NET Core apps for configuration:</span></span>

* `<system.web>`
* `<appSettings>`
* `<connectionStrings>`
* `<location>`

<span data-ttu-id="bc54b-217">Las aplicaciones de ASP.NET Core se configuran mediante otros proveedores de configuración.</span><span class="sxs-lookup"><span data-stu-id="bc54b-217">ASP.NET Core apps are configured using other configuration providers.</span></span> <span data-ttu-id="bc54b-218">Para obtener más información, vea [Configuración](xref:fundamentals/configuration/index).</span><span class="sxs-lookup"><span data-stu-id="bc54b-218">For more information, see [Configuration](xref:fundamentals/configuration/index).</span></span>

## <a name="transform-webconfig"></a><span data-ttu-id="bc54b-219">Transformación de web.config</span><span class="sxs-lookup"><span data-stu-id="bc54b-219">Transform web.config</span></span>

<span data-ttu-id="bc54b-220">Si necesita transformar `web.config` al realizar la publicación, vea <xref:host-and-deploy/iis/transform-webconfig>.</span><span class="sxs-lookup"><span data-stu-id="bc54b-220">If you need to transform `web.config` on publish, see <xref:host-and-deploy/iis/transform-webconfig>.</span></span> <span data-ttu-id="bc54b-221">Es posible que necesite transformar `web.config` al realizar la publicación para establecer variables de entorno basadas en la configuración, el perfil o el entorno.</span><span class="sxs-lookup"><span data-stu-id="bc54b-221">You might need to transform `web.config` on publish to set environment variables based on the configuration, profile, or environment.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="bc54b-222">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="bc54b-222">Additional resources</span></span>

* [<span data-ttu-id="bc54b-223">IIS \<system.webServer></span><span class="sxs-lookup"><span data-stu-id="bc54b-223">IIS \<system.webServer></span></span>](/iis/configuration/system.webServer/)
* <xref:host-and-deploy/iis/modules>
* <xref:host-and-deploy/iis/transform-webconfig>
