# <a name="aspnet-core-health-check-sample"></a><span data-ttu-id="c750d-101">Ejemplo de comprobación de estado de ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="c750d-101">ASP.NET Core Health Check Sample</span></span>

<span data-ttu-id="c750d-102">En este ejemplo, se muestra el uso de Middleware de comprobación de estado y de los servicios.</span><span class="sxs-lookup"><span data-stu-id="c750d-102">This sample illustrates the use of Health Check Middleware and services.</span></span> <span data-ttu-id="c750d-103">En este ejemplo, se muestra el escenario descrito en el tema [Comprobaciones de estado en ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks).</span><span class="sxs-lookup"><span data-stu-id="c750d-103">This sample demonstrates the scenario described in the [Health checks in ASP.NET Core](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic.</span></span>

<span data-ttu-id="c750d-104">Para ejecutar la aplicación de ejemplo para un escenario descrito en el tema, use el comando [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) desde la carpeta del proyecto en un shell de comandos.</span><span class="sxs-lookup"><span data-stu-id="c750d-104">To run the sample app for a scenario described in the topic, use the [dotnet run](https://docs.microsoft.com/dotnet/core/tools/dotnet-run) command from the project's folder in a command shell.</span></span> <span data-ttu-id="c750d-105">Pase un modificador para el escenario que esté explorando.</span><span class="sxs-lookup"><span data-stu-id="c750d-105">Pass a switch for the scenario that you're exploring.</span></span> <span data-ttu-id="c750d-106">De manera predeterminada, la aplicación adopta la configuración `basic` cuando no se proporciona ningún modificador para `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="c750d-106">The app defaults to the `basic` configuration when a switch isn't provided to `dotnet run`.</span></span>

| <span data-ttu-id="c750d-107">Escenario</span><span class="sxs-lookup"><span data-stu-id="c750d-107">Scenario</span></span>                                               | <span data-ttu-id="c750d-108">Comando de aplicación de ejemplo</span><span class="sxs-lookup"><span data-stu-id="c750d-108">Sample app command</span></span>               | <span data-ttu-id="c750d-109">Descripción</span><span class="sxs-lookup"><span data-stu-id="c750d-109">Description</span></span> |
| ------------------------------------------------------ | -------------------------------- | ----------- |
| <span data-ttu-id="c750d-110">Sondeo de estado básico (predeterminado)</span><span class="sxs-lookup"><span data-stu-id="c750d-110">Basic health probe (default)</span></span>                           | `dotnet run --scenario basic`    | <span data-ttu-id="c750d-111">Confirma que la aplicación puede procesar las solicitudes HTTP.</span><span class="sxs-lookup"><span data-stu-id="c750d-111">Confirms that the app can process HTTP requests.</span></span> |
| <span data-ttu-id="c750d-112">Sondeo de bases de datos</span><span class="sxs-lookup"><span data-stu-id="c750d-112">Database probe</span></span>                                         | `dotnet run --scenario db`       | <span data-ttu-id="c750d-113">Comprueba una conexión a la base de datos de SQL Server.</span><span class="sxs-lookup"><span data-stu-id="c750d-113">Checks a SQL Server database connection.</span></span> <span data-ttu-id="c750d-114">Consulte la sección [Sondeo de bases de datos](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) del tema para obtener instrucciones.</span><span class="sxs-lookup"><span data-stu-id="c750d-114">See the [Database probe](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#database-probe) section of the topic for instructions.</span></span> |
| <span data-ttu-id="c750d-115">Sondeo de preparación y ejecución</span><span class="sxs-lookup"><span data-stu-id="c750d-115">Readiness/liveness probes</span></span>                              | `dotnet run --scenario liveness` | <span data-ttu-id="c750d-116">Realiza comprobaciones de estado de una aplicación activa (*ejecución*) frente a la aplicación que se prepara para ser activa (*preparación*).</span><span class="sxs-lookup"><span data-stu-id="c750d-116">Performs checks for a live app status (*liveness*) versus the app preparing to become live (*readiness*).</span></span> |
| <span data-ttu-id="c750d-117">Sondeo basado en métricas (memoria) o</span><span class="sxs-lookup"><span data-stu-id="c750d-117">Metric-based probe (memory)/</span></span><br><span data-ttu-id="c750d-118">escritor de respuesta personalizada</span><span class="sxs-lookup"><span data-stu-id="c750d-118">custom response writer</span></span> | `dotnet run --scenario writer`   | <span data-ttu-id="c750d-119">Comprueba el uso de memoria y escribe código JSON personalizado al comprobar el punto de conexión de estado.</span><span class="sxs-lookup"><span data-stu-id="c750d-119">Checks against memory use and writes out custom JSON when the health endpoint is checked.</span></span> |
| <span data-ttu-id="c750d-120">Filtrado por puerto</span><span class="sxs-lookup"><span data-stu-id="c750d-120">Filter by port</span></span>                                         | `dotnet run --scenario port`     | <span data-ttu-id="c750d-121">Filtra las comprobaciones de estado para un puerto determinado.</span><span class="sxs-lookup"><span data-stu-id="c750d-121">Filters health checks to a given port.</span></span> <span data-ttu-id="c750d-122">Consulte la sección [Filtrado por puerto](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) del tema para obtener instrucciones.</span><span class="sxs-lookup"><span data-stu-id="c750d-122">See the [Filter by port](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks#filter-by-port) section of the topic for instructions.</span></span> |

<span data-ttu-id="c750d-123">Los escenarios de sondeo de bases de datos y filtrado de puerto requieren configuración adicional.</span><span class="sxs-lookup"><span data-stu-id="c750d-123">The database probe and port filter scenarios require additional configuration.</span></span> <span data-ttu-id="c750d-124">Consulte el tema [Comprobaciones de estado](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) para obtener información.</span><span class="sxs-lookup"><span data-stu-id="c750d-124">See the [Health checks](https://docs.microsoft.com/aspnet/core/host-and-deploy/health-checks) topic for details.</span></span>
